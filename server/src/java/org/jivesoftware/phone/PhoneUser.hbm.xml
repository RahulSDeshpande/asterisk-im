<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
      "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
          "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="org.jivesoftware.phone" >

    <class name="PhoneUser" table="phoneUser" >

        <id name="id" column="userID" >
            <generator class="org.jivesoftware.phone.database.JiveIDGenerator"/>
        </id>

        <property name="username"
            column="username"
            not-null="true"
            update="false"
            unique="true"/>

        <set name="devices" cascade="all" order-by="device asc" lazy="false" >
            <key column="userID"/>
            <one-to-many class="PhoneDevice" />
        </set>
    </class>

</hibernate-mapping>